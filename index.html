<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="static/css/ui.css">
    <link rel="shortcut icon" href="static/img/icon.png" type="image/x-icon">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
        crossorigin="anonymous">

    <title>Typing Test</title>
</head>

<body>
    <div class="alert alert-warning alert-dismissible fade show rounded-0 m-0" role="alert">
        This website is currently under development and some features might not be working.
        <a href="https://github.com/lukeathedev/typing_test/issues" target="_blank">Improve it</a>!
        <button type="button" class="close py-2" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="alert alert-success alert-dismissible fade show rounded-0 m-0" id="finished-alert" role="alert" style="display: none;">
        Great job! You've scored <span id="wpm-banner">0</span>WPM (<span id="cpm-banner">0</span>CPM), typing <span id="accuracy-banner">100.00%</span>
        of the characters correctly on this attempt.
        <button type="button" class="close py-2" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="jumbotron rounded-0">
        <img src="static/img/icon.png" class="float-left">
        <div class="d-flex">
            <span class="justify-content-right spinner-grow spinner-grow-sm text-danger mr-2" id="test-active" role="status"
                aria-hidden="true" style="display: none;"></span>
            <h1>Typing test
                <small class="text-muted">
                    by <a class="text-muted" href="https://github.com/lukeathedev" target="_blank">lukeathedev</a>
                </small>
            </h1>
        </div>

        <p class="lead">
            Type the words below for 60 seconds in order to find out your typing speed!
        </p>

        <hr class="my-4">

        <button class="btn w-100 btn-success" type="button" data-toggle="collapse" data-target="#typing-test"
            aria-expanded="false" aria-controls="typing-test" id="type-button" onclick="">
            Start
        </button>
        <div class="collapse" id="typing-test">
            <hr class="my-4">
            <div class="card-group">
                <div class="card text-left rounded-0" id="stats1">
                    <div class="card-body">
                        <h5 class="card-title">WPM</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Words Per Minute</h6>
                        <h3 class="card-text" id="wpm">0</h3>
                    </div>
                </div>
                <div class="card text-center">
                    <div class="card-body ">
                        <h5 class="card-title">Accuracy</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Correctly Typed Word Ratio</h6>
                        <h3 class="card-text" id="accuracy">100.00%</h3>
                    </div>
                </div>
                <div class="card text-right rounded-0" id="stats3">
                    <div class="card-body">
                        <h5 class="card-title">CPM</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Characters Per Minute</h6>
                        <h3 class="card-text" id="cpm">0</h3>
                    </div>
                </div>
            </div>

            <div class="progress rounded-0" id="progress-bar-container">
                <div id="progress-bar" class="progress-bar" role="progressbar" aria-valuenow="" aria-valuemin="0"
                    aria-valuemax="100" style="width: 5%;">0%</div>
            </div>
            <div class="card rounded-0" id="text-container">
                <div class="card-body">
                    <p class="text-monospace" id="generated-text" style="font-size: 1.3rem;"></p>
                </div>
            </div>

            <div class="input-group mb-3 mt-4">
                <input type="text" class="form-control form-control-lg" id="type-input" placeholder="Type here to start"
                    aria-label="Type Here" aria-describedby="button-retry">
                <div class="input-group-append">
                    <button class="btn btn-outline-primary" type="button" id="button-retry">Retry</button>
                    <!-- Trigger retry function on click -->
                    <script type="module">
                        import * as typing_test from "./static/js/typing_test.js";
                        $('#button-retry').on('click', function() {
                            typing_test.progress_done($('#progress-bar'), 5, true);
                        });
                    </script>
                </div>
            </div>
        </div>

    </div>

    <!-- Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
        crossorigin="anonymous"></script>

    <script type="module" src="static/js/typing_test.js"></script>

</body>

</html>